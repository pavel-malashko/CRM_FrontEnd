{"remainingRequest":"C:\\Users\\Chief Accountant\\Desktop\\frontPTS\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js??ref--8-1!C:\\Users\\Chief Accountant\\Desktop\\frontPTS\\node_modules\\@agm\\core\\directives\\map.js","dependencies":[{"path":"C:\\Users\\Chief Accountant\\Desktop\\frontPTS\\node_modules\\@agm\\core\\directives\\map.js","mtime":499162500000},{"path":"C:\\Users\\Chief Accountant\\Desktop\\frontPTS\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Chief Accountant\\Desktop\\frontPTS\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js","mtime":1528256844000}],"contextDependencies":[],"result":["import { Component, ElementRef, EventEmitter, Input, Output } from '@angular/core';\nimport { GoogleMapsAPIWrapper } from '../services/google-maps-api-wrapper';\nimport { CircleManager } from '../services/managers/circle-manager';\nimport { RectangleManager } from '../services/managers/rectangle-manager';\nimport { InfoWindowManager } from '../services/managers/info-window-manager';\nimport { MarkerManager } from '../services/managers/marker-manager';\nimport { PolygonManager } from '../services/managers/polygon-manager';\nimport { PolylineManager } from '../services/managers/polyline-manager';\nimport { KmlLayerManager } from './../services/managers/kml-layer-manager';\nimport { DataLayerManager } from './../services/managers/data-layer-manager';\nimport { FitBoundsService } from '../services/fit-bounds';\n/**\n * AgmMap renders a Google Map.\n * **Important note**: To be able see a map in the browser, you have to define a height for the\n * element `agm-map`.\n *\n * ### Example\n * ```typescript\n * import { Component } from '@angular/core';\n *\n * @Component({\n *  selector: 'my-map-cmp',\n *  styles: [`\n *    agm-map {\n *      height: 300px;\n *    }\n * `],\n *  template: `\n *    <agm-map [latitude]=\"lat\" [longitude]=\"lng\" [zoom]=\"zoom\">\n *    </agm-map>\n *  `\n * })\n * ```\n */\nvar AgmMap = /** @class */ /*@__PURE__*/ (function () {\n    function AgmMap(_elem, _mapsWrapper, _fitBoundsService) {\n        this._elem = _elem;\n        this._mapsWrapper = _mapsWrapper;\n        this._fitBoundsService = _fitBoundsService;\n        /**\n           * The longitude that defines the center of the map.\n           */\n        this.longitude = 0;\n        /**\n           * The latitude that defines the center of the map.\n           */\n        this.latitude = 0;\n        /**\n           * The zoom level of the map. The default zoom level is 8.\n           */\n        this.zoom = 8;\n        /**\n           * Enables/disables if map is draggable.\n           */\n        // tslint:disable-next-line:no-input-rename\n        this.draggable = true;\n        /**\n           * Enables/disables zoom and center on double click. Enabled by default.\n           */\n        this.disableDoubleClickZoom = false;\n        /**\n           * Enables/disables all default UI of the Google map. Please note: When the map is created, this\n           * value cannot get updated.\n           */\n        this.disableDefaultUI = false;\n        /**\n           * If false, disables scrollwheel zooming on the map. The scrollwheel is enabled by default.\n           */\n        this.scrollwheel = true;\n        /**\n           * If false, prevents the map from being controlled by the keyboard. Keyboard shortcuts are\n           * enabled by default.\n           */\n        this.keyboardShortcuts = true;\n        /**\n           * The enabled/disabled state of the Zoom control.\n           */\n        this.zoomControl = true;\n        /**\n           * Styles to apply to each of the default map types. Note that for Satellite/Hybrid and Terrain\n           * modes, these styles will only apply to labels and geometry.\n           */\n        this.styles = [];\n        /**\n           * When true and the latitude and/or longitude values changes, the Google Maps panTo method is\n           * used to\n           * center the map. See: https://developers.google.com/maps/documentation/javascript/reference#Map\n           */\n        this.usePanning = false;\n        /**\n           * The initial enabled/disabled state of the Street View Pegman control.\n           * This control is part of the default UI, and should be set to false when displaying a map type\n           * on which the Street View road overlay should not appear (e.g. a non-Earth map type).\n           */\n        this.streetViewControl = true;\n        /**\n           * Sets the viewport to contain the given bounds.\n           * If this option to `true`, the bounds get automatically computed from all elements that use the {@link AgmFitBounds} directive.\n           */\n        this.fitBounds = false;\n        /**\n           * The initial enabled/disabled state of the Scale control. This is disabled by default.\n           */\n        this.scaleControl = false;\n        /**\n           * The initial enabled/disabled state of the Map type control.\n           */\n        this.mapTypeControl = false;\n        /**\n           * The initial enabled/disabled state of the Pan control.\n           */\n        this.panControl = false;\n        /**\n           * The initial enabled/disabled state of the Rotate control.\n           */\n        this.rotateControl = false;\n        /**\n           * The initial enabled/disabled state of the Fullscreen control.\n           */\n        this.fullscreenControl = false;\n        /**\n           * The map mapTypeId. Defaults to 'roadmap'.\n           */\n        this.mapTypeId = 'roadmap';\n        /**\n           * When false, map icons are not clickable. A map icon represents a point of interest,\n           * also known as a POI. By default map icons are clickable.\n           */\n        this.clickableIcons = true;\n        /**\n           * This setting controls how gestures on the map are handled.\n           * Allowed values:\n           * - 'cooperative' (Two-finger touch gestures pan and zoom the map. One-finger touch gestures are not handled by the map.)\n           * - 'greedy'      (All touch gestures pan or zoom the map.)\n           * - 'none'        (The map cannot be panned or zoomed by user gestures.)\n           * - 'auto'        [default] (Gesture handling is either cooperative or greedy, depending on whether the page is scrollable or not.\n           */\n        this.gestureHandling = 'auto';\n        this._observableSubscriptions = [];\n        /**\n           * This event emitter gets emitted when the user clicks on the map (but not when they click on a\n           * marker or infoWindow).\n           */\n        this.mapClick = new EventEmitter();\n        /**\n           * This event emitter gets emitted when the user right-clicks on the map (but not when they click\n           * on a marker or infoWindow).\n           */\n        this.mapRightClick = new EventEmitter();\n        /**\n           * This event emitter gets emitted when the user double-clicks on the map (but not when they click\n           * on a marker or infoWindow).\n           */\n        this.mapDblClick = new EventEmitter();\n        /**\n           * This event emitter is fired when the map center changes.\n           */\n        this.centerChange = new EventEmitter();\n        /**\n           * This event is fired when the viewport bounds have changed.\n           */\n        this.boundsChange = new EventEmitter();\n        /**\n           * This event is fired when the mapTypeId property changes.\n           */\n        this.mapTypeIdChange = new EventEmitter();\n        /**\n           * This event is fired when the map becomes idle after panning or zooming.\n           */\n        this.idle = new EventEmitter();\n        /**\n           * This event is fired when the zoom level has changed.\n           */\n        this.zoomChange = new EventEmitter();\n        /**\n           * This event is fired when the google map is fully initialized.\n           * You get the google.maps.Map instance as a result of this EventEmitter.\n           */\n        this.mapReady = new EventEmitter();\n    }\n    /** @internal */\n    /** @internal */\n    AgmMap.prototype.ngOnInit = /** @internal */\n        function () {\n            // todo: this should be solved with a new component and a viewChild decorator\n            var container = this._elem.nativeElement.querySelector('.agm-map-container-inner');\n            this._initMapInstance(container);\n        };\n    AgmMap.prototype._initMapInstance = function (el) {\n        var _this = this;\n        this._mapsWrapper.createMap(el, {\n            center: { lat: this.latitude || 0, lng: this.longitude || 0 },\n            zoom: this.zoom,\n            minZoom: this.minZoom,\n            maxZoom: this.maxZoom,\n            disableDefaultUI: this.disableDefaultUI,\n            disableDoubleClickZoom: this.disableDoubleClickZoom,\n            scrollwheel: this.scrollwheel,\n            backgroundColor: this.backgroundColor,\n            draggable: this.draggable,\n            draggableCursor: this.draggableCursor,\n            draggingCursor: this.draggingCursor,\n            keyboardShortcuts: this.keyboardShortcuts,\n            styles: this.styles,\n            zoomControl: this.zoomControl,\n            zoomControlOptions: this.zoomControlOptions,\n            streetViewControl: this.streetViewControl,\n            streetViewControlOptions: this.streetViewControlOptions,\n            scaleControl: this.scaleControl,\n            scaleControlOptions: this.scaleControlOptions,\n            mapTypeControl: this.mapTypeControl,\n            mapTypeControlOptions: this.mapTypeControlOptions,\n            panControl: this.panControl,\n            panControlOptions: this.panControlOptions,\n            rotateControl: this.rotateControl,\n            rotateControlOptions: this.rotateControlOptions,\n            fullscreenControl: this.fullscreenControl,\n            fullscreenControlOptions: this.fullscreenControlOptions,\n            mapTypeId: this.mapTypeId,\n            clickableIcons: this.clickableIcons,\n            gestureHandling: this.gestureHandling\n        })\n            .then(function () { return _this._mapsWrapper.getNativeMap(); })\n            .then(function (map) { return _this.mapReady.emit(map); });\n        // register event listeners\n        this._handleMapCenterChange();\n        this._handleMapZoomChange();\n        this._handleMapMouseEvents();\n        this._handleBoundsChange();\n        this._handleMapTypeIdChange();\n        this._handleIdleEvent();\n    };\n    /** @internal */\n    /** @internal */\n    AgmMap.prototype.ngOnDestroy = /** @internal */\n        function () {\n            // unsubscribe all registered observable subscriptions\n            this._observableSubscriptions.forEach(function (s) { return s.unsubscribe(); });\n            // remove all listeners from the map instance\n            this._mapsWrapper.clearInstanceListeners();\n            if (this._fitBoundsSubscription) {\n                this._fitBoundsSubscription.unsubscribe();\n            }\n        };\n    /* @internal */\n    /* @internal */\n    AgmMap.prototype.ngOnChanges = /* @internal */\n        function (changes) {\n            this._updateMapOptionsChanges(changes);\n            this._updatePosition(changes);\n        };\n    AgmMap.prototype._updateMapOptionsChanges = function (changes) {\n        var options = {};\n        var optionKeys = Object.keys(changes).filter(function (k) { return AgmMap._mapOptionsAttributes.indexOf(k) !== -1; });\n        optionKeys.forEach(function (k) { options[k] = changes[k].currentValue; });\n        this._mapsWrapper.setMapOptions(options);\n    };\n    /**\n     * Triggers a resize event on the google map instance.\n     * When recenter is true, the of the google map gets called with the current lat/lng values or fitBounds value to recenter the map.\n     * Returns a promise that gets resolved after the event was triggered.\n     */\n    /**\n       * Triggers a resize event on the google map instance.\n       * When recenter is true, the of the google map gets called with the current lat/lng values or fitBounds value to recenter the map.\n       * Returns a promise that gets resolved after the event was triggered.\n       */\n    AgmMap.prototype.triggerResize = /**\n       * Triggers a resize event on the google map instance.\n       * When recenter is true, the of the google map gets called with the current lat/lng values or fitBounds value to recenter the map.\n       * Returns a promise that gets resolved after the event was triggered.\n       */\n        function (recenter) {\n            var _this = this;\n            if (recenter === void 0) {\n                recenter = true;\n            }\n            // Note: When we would trigger the resize event and show the map in the same turn (which is a\n            // common case for triggering a resize event), then the resize event would not\n            // work (to show the map), so we trigger the event in a timeout.\n            return new Promise(function (resolve) {\n                setTimeout(function () {\n                    return _this._mapsWrapper.triggerMapEvent('resize').then(function () {\n                        if (recenter) {\n                            _this.fitBounds != null ? _this._fitBounds() : _this._setCenter();\n                        }\n                        resolve();\n                    });\n                });\n            });\n        };\n    AgmMap.prototype._updatePosition = function (changes) {\n        if (changes['latitude'] == null && changes['longitude'] == null &&\n            !changes['fitBounds']) {\n            // no position update needed\n            return;\n        }\n        // we prefer fitBounds in changes\n        if ('fitBounds' in changes) {\n            this._fitBounds();\n            return;\n        }\n        if (typeof this.latitude !== 'number' || typeof this.longitude !== 'number') {\n            return;\n        }\n        this._setCenter();\n    };\n    AgmMap.prototype._setCenter = function () {\n        var newCenter = {\n            lat: this.latitude,\n            lng: this.longitude,\n        };\n        if (this.usePanning) {\n            this._mapsWrapper.panTo(newCenter);\n        }\n        else {\n            this._mapsWrapper.setCenter(newCenter);\n        }\n    };\n    AgmMap.prototype._fitBounds = function () {\n        switch (this.fitBounds) {\n            case true:\n                this._subscribeToFitBoundsUpdates();\n                break;\n            case false:\n                if (this._fitBoundsSubscription) {\n                    this._fitBoundsSubscription.unsubscribe();\n                }\n                break;\n            default:\n                this._updateBounds(this.fitBounds);\n        }\n    };\n    AgmMap.prototype._subscribeToFitBoundsUpdates = function () {\n        var _this = this;\n        this._fitBoundsSubscription = this._fitBoundsService.getBounds$().subscribe(function (b) { return _this._updateBounds(b); });\n    };\n    AgmMap.prototype._updateBounds = function (bounds) {\n        if (this._isLatLngBoundsLiteral(bounds) && google && google.maps) {\n            var newBounds = google.maps.LatLngBounds();\n            newBounds.union(bounds);\n            bounds = newBounds;\n        }\n        if (this.usePanning) {\n            this._mapsWrapper.panToBounds(bounds);\n            return;\n        }\n        this._mapsWrapper.fitBounds(bounds);\n    };\n    AgmMap.prototype._isLatLngBoundsLiteral = function (bounds) {\n        return bounds != null && bounds.extend === undefined;\n    };\n    AgmMap.prototype._handleMapCenterChange = function () {\n        var _this = this;\n        var s = this._mapsWrapper.subscribeToMapEvent('center_changed').subscribe(function () {\n            _this._mapsWrapper.getCenter().then(function (center) {\n                _this.latitude = center.lat();\n                _this.longitude = center.lng();\n                _this.centerChange.emit({ lat: _this.latitude, lng: _this.longitude });\n            });\n        });\n        this._observableSubscriptions.push(s);\n    };\n    AgmMap.prototype._handleBoundsChange = function () {\n        var _this = this;\n        var s = this._mapsWrapper.subscribeToMapEvent('bounds_changed').subscribe(function () {\n            _this._mapsWrapper.getBounds().then(function (bounds) { _this.boundsChange.emit(bounds); });\n        });\n        this._observableSubscriptions.push(s);\n    };\n    AgmMap.prototype._handleMapTypeIdChange = function () {\n        var _this = this;\n        var s = this._mapsWrapper.subscribeToMapEvent('maptypeid_changed').subscribe(function () {\n            _this._mapsWrapper.getMapTypeId().then(function (mapTypeId) { _this.mapTypeIdChange.emit(mapTypeId); });\n        });\n        this._observableSubscriptions.push(s);\n    };\n    AgmMap.prototype._handleMapZoomChange = function () {\n        var _this = this;\n        var s = this._mapsWrapper.subscribeToMapEvent('zoom_changed').subscribe(function () {\n            _this._mapsWrapper.getZoom().then(function (z) {\n                _this.zoom = z;\n                _this.zoomChange.emit(z);\n            });\n        });\n        this._observableSubscriptions.push(s);\n    };\n    AgmMap.prototype._handleIdleEvent = function () {\n        var _this = this;\n        var s = this._mapsWrapper.subscribeToMapEvent('idle').subscribe(function () { _this.idle.emit(void 0); });\n        this._observableSubscriptions.push(s);\n    };\n    AgmMap.prototype._handleMapMouseEvents = function () {\n        var _this = this;\n        var events = [\n            { name: 'click', emitter: this.mapClick },\n            { name: 'rightclick', emitter: this.mapRightClick },\n            { name: 'dblclick', emitter: this.mapDblClick },\n        ];\n        events.forEach(function (e) {\n            var s = _this._mapsWrapper.subscribeToMapEvent(e.name).subscribe(function (event) {\n                var value = { coords: { lat: event.latLng.lat(), lng: event.latLng.lng() } };\n                e.emitter.emit(value);\n            });\n            _this._observableSubscriptions.push(s);\n        });\n    };\n    /**\n       * Map option attributes that can change over time\n       */\n    AgmMap._mapOptionsAttributes = [\n        'disableDoubleClickZoom', 'scrollwheel', 'draggable', 'draggableCursor', 'draggingCursor',\n        'keyboardShortcuts', 'zoomControl', 'zoomControlOptions', 'styles', 'streetViewControl',\n        'streetViewControlOptions', 'zoom', 'mapTypeControl', 'mapTypeControlOptions', 'minZoom',\n        'maxZoom', 'panControl', 'panControlOptions', 'rotateControl', 'rotateControlOptions',\n        'fullscreenControl', 'fullscreenControlOptions', 'scaleControl', 'scaleControlOptions',\n        'mapTypeId', 'clickableIcons', 'gestureHandling'\n    ];\n    return AgmMap;\n}());\nexport { AgmMap };\n//# sourceMappingURL=map.js.map\n",null]}