{"remainingRequest":"C:\\Users\\Chief Accountant\\Desktop\\frontPTS\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js??ref--8-1!C:\\Users\\Chief Accountant\\Desktop\\frontPTS\\node_modules\\@agm\\core\\directives\\marker.js","dependencies":[{"path":"C:\\Users\\Chief Accountant\\Desktop\\frontPTS\\node_modules\\@agm\\core\\directives\\marker.js","mtime":499162500000},{"path":"C:\\Users\\Chief Accountant\\Desktop\\frontPTS\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Chief Accountant\\Desktop\\frontPTS\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js","mtime":1528256844000}],"contextDependencies":[],"result":["import { ContentChildren, Directive, EventEmitter, Input, Output, QueryList, forwardRef } from '@angular/core';\nimport { ReplaySubject } from 'rxjs';\nimport { FitBoundsAccessor } from '../services/fit-bounds';\nimport { MarkerManager } from '../services/managers/marker-manager';\nimport { AgmInfoWindow } from './info-window';\nvar markerId = 0;\n/**\n * AgmMarker renders a map marker inside a {@link AgmMap}.\n *\n * ### Example\n * ```typescript\n * import { Component } from '@angular/core';\n *\n * @Component({\n *  selector: 'my-map-cmp',\n *  styles: [`\n *    .agm-map-container {\n *      height: 300px;\n *    }\n * `],\n *  template: `\n *    <agm-map [latitude]=\"lat\" [longitude]=\"lng\" [zoom]=\"zoom\">\n *      <agm-marker [latitude]=\"lat\" [longitude]=\"lng\" [label]=\"'M'\">\n *      </agm-marker>\n *    </agm-map>\n *  `\n * })\n * ```\n */\nvar AgmMarker = /** @class */ /*@__PURE__*/ (function () {\n    function AgmMarker(_markerManager) {\n        this._markerManager = _markerManager;\n        /**\n           * If true, the marker can be dragged. Default value is false.\n           */\n        // tslint:disable-next-line:no-input-rename\n        this.draggable = false;\n        /**\n           * If true, the marker is visible\n           */\n        this.visible = true;\n        /**\n           * Whether to automatically open the child info window when the marker is clicked.\n           */\n        this.openInfoWindow = true;\n        /**\n           * The marker's opacity between 0.0 and 1.0.\n           */\n        this.opacity = 1;\n        /**\n           * All markers are displayed on the map in order of their zIndex, with higher values displaying in\n           * front of markers with lower values. By default, markers are displayed according to their\n           * vertical position on screen, with lower markers appearing in front of markers further up the\n           * screen.\n           */\n        this.zIndex = 1;\n        /**\n           * If true, the marker can be clicked. Default value is true.\n           */\n        // tslint:disable-next-line:no-input-rename\n        this.clickable = true;\n        /**\n           * This event emitter gets emitted when the user clicks on the marker.\n           */\n        this.markerClick = new EventEmitter();\n        /**\n           * This event is fired when the user rightclicks on the marker.\n           */\n        this.markerRightClick = new EventEmitter();\n        /**\n           * This event is fired when the user stops dragging the marker.\n           */\n        this.dragEnd = new EventEmitter();\n        /**\n           * This event is fired when the user mouses over the marker.\n           */\n        this.mouseOver = new EventEmitter();\n        /**\n           * This event is fired when the user mouses outside the marker.\n           */\n        this.mouseOut = new EventEmitter();\n        /**\n           * @internal\n           */\n        this.infoWindow = new QueryList();\n        this._markerAddedToManger = false;\n        this._observableSubscriptions = [];\n        this._fitBoundsDetails$ = new ReplaySubject(1);\n        this._id = (markerId++).toString();\n    }\n    /* @internal */\n    /* @internal */\n    AgmMarker.prototype.ngAfterContentInit = /* @internal */\n        function () {\n            var _this = this;\n            this.handleInfoWindowUpdate();\n            this.infoWindow.changes.subscribe(function () { return _this.handleInfoWindowUpdate(); });\n        };\n    AgmMarker.prototype.handleInfoWindowUpdate = function () {\n        var _this = this;\n        if (this.infoWindow.length > 1) {\n            throw new Error('Expected no more than one info window.');\n        }\n        this.infoWindow.forEach(function (marker) {\n            marker.hostMarker = _this;\n        });\n    };\n    /** @internal */\n    /** @internal */\n    AgmMarker.prototype.ngOnChanges = /** @internal */\n        function (changes) {\n            if (typeof this.latitude === 'string') {\n                this.latitude = Number(this.latitude);\n            }\n            if (typeof this.longitude === 'string') {\n                this.longitude = Number(this.longitude);\n            }\n            if (typeof this.latitude !== 'number' || typeof this.longitude !== 'number') {\n                return;\n            }\n            if (!this._markerAddedToManger) {\n                this._markerManager.addMarker(this);\n                this._updateFitBoundsDetails();\n                this._markerAddedToManger = true;\n                this._addEventListeners();\n                return;\n            }\n            if (changes['latitude'] || changes['longitude']) {\n                this._markerManager.updateMarkerPosition(this);\n                this._updateFitBoundsDetails();\n            }\n            if (changes['title']) {\n                this._markerManager.updateTitle(this);\n            }\n            if (changes['label']) {\n                this._markerManager.updateLabel(this);\n            }\n            if (changes['draggable']) {\n                this._markerManager.updateDraggable(this);\n            }\n            if (changes['iconUrl']) {\n                this._markerManager.updateIcon(this);\n            }\n            if (changes['opacity']) {\n                this._markerManager.updateOpacity(this);\n            }\n            if (changes['visible']) {\n                this._markerManager.updateVisible(this);\n            }\n            if (changes['zIndex']) {\n                this._markerManager.updateZIndex(this);\n            }\n            if (changes['clickable']) {\n                this._markerManager.updateClickable(this);\n            }\n            if (changes['animation']) {\n                this._markerManager.updateAnimation(this);\n            }\n        };\n    /**\n     * @internal\n     */\n    /**\n       * @internal\n       */\n    AgmMarker.prototype.getFitBoundsDetails$ = /**\n       * @internal\n       */\n        function () {\n            return this._fitBoundsDetails$.asObservable();\n        };\n    AgmMarker.prototype._updateFitBoundsDetails = function () {\n        this._fitBoundsDetails$.next({ latLng: { lat: this.latitude, lng: this.longitude } });\n    };\n    AgmMarker.prototype._addEventListeners = function () {\n        var _this = this;\n        var cs = this._markerManager.createEventObservable('click', this).subscribe(function () {\n            if (_this.openInfoWindow) {\n                _this.infoWindow.forEach(function (infoWindow) { return infoWindow.open(); });\n            }\n            _this.markerClick.emit(_this);\n        });\n        this._observableSubscriptions.push(cs);\n        var rc = this._markerManager.createEventObservable('rightclick', this).subscribe(function () {\n            _this.markerRightClick.emit(null);\n        });\n        this._observableSubscriptions.push(rc);\n        var ds = this._markerManager.createEventObservable('dragend', this)\n            .subscribe(function (e) {\n            _this.dragEnd.emit({ coords: { lat: e.latLng.lat(), lng: e.latLng.lng() } });\n        });\n        this._observableSubscriptions.push(ds);\n        var mover = this._markerManager.createEventObservable('mouseover', this)\n            .subscribe(function (e) {\n            _this.mouseOver.emit({ coords: { lat: e.latLng.lat(), lng: e.latLng.lng() } });\n        });\n        this._observableSubscriptions.push(mover);\n        var mout = this._markerManager.createEventObservable('mouseout', this)\n            .subscribe(function (e) {\n            _this.mouseOut.emit({ coords: { lat: e.latLng.lat(), lng: e.latLng.lng() } });\n        });\n        this._observableSubscriptions.push(mout);\n    };\n    /** @internal */\n    /** @internal */\n    AgmMarker.prototype.id = /** @internal */\n        function () { return this._id; };\n    /** @internal */\n    /** @internal */\n    AgmMarker.prototype.toString = /** @internal */\n        function () { return 'AgmMarker-' + this._id.toString(); };\n    /** @internal */\n    /** @internal */\n    AgmMarker.prototype.ngOnDestroy = /** @internal */\n        function () {\n            this._markerManager.deleteMarker(this);\n            // unsubscribe all registered observable subscriptions\n            this._observableSubscriptions.forEach(function (s) { return s.unsubscribe(); });\n        };\n    return AgmMarker;\n}());\nexport { AgmMarker };\n//# sourceMappingURL=marker.js.map\n",null]}